@using Kigg
@using Kigg.DomainObjects
@using Kigg.Web
@model Kigg.Web.StoryListViewData

@Html.PageHeader(Model.Subtitle, Model.RssUrl, Model.AtomUrl, Model.FacebookUrl)
@if (!Model.Stories.IsNullOrEmpty())
{
    bool isOdd = true;
    foreach (IStory story in Model.Stories)
    {
        string className = (isOdd) ? "odd" : "even";
        <div id="t-@Html.AttributeEncode(story.Id.Shrink())" class="story @className hentry row clearfix">
            @Html.Partial("Story", new StoryItemViewData { Story = story, User = Model.CurrentUser, PromoteText = Model.PromoteText, DemoteText = Model.DemoteText, CountText = Model.CountText, SocialServices = Model.SocialServices, DetailMode = false })
        </div>
        isOdd = !isOdd;
    }
    @Html.StoryListPager()
    if (Model.CanCurrentUserModerate)
    {
        @Html.Partial("StoryEditorBox")
    }
}
else
{
    <span class="pageMessage">@ViewData.Model.NoStoryExistMessage</span>
}